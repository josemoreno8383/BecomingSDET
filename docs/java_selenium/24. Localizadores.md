---
title: Localizadores
parent: Java + Selenium
nav_order: 24
---


### Repaso general de Java
************

**Importancia de los Localizadores en Selenium WebDriver**

¿Qué son los localizadores?  
- Son direcciones únicas que permiten a Selenium WebDriver encontrar elementos en una página web.  
- Permiten que Selenium escriba, haga clic, seleccione elementos, etc.  

¿Por qué son necesarios?  
- Una página web tiene muchos elementos HTML.  
- Cada elemento necesita ser identificado de forma única.  
- Analogía: Localizador es como la dirección de una casa en una ciudad.  

Tipos de Localizadores en Selenium:  
- id: Localiza por atributo id.  
- name: Usa el atributo name.  
- className: Usa la clase del elemento.  
- tagName: Busca por etiqueta HTML.
- xpath: Usa una ruta específica en el HTML.  
- cssSelector: Usa selectores de CSS.  

¿Todos los elementos tienen todos los localizadores?  
- No. No todos los elementos tienen id, name, o class.  
- Se debe elegir el mejor localizador disponible.  

¿Cómo usar un localizador en Selenium?  
driver.findElement(By.id("email")).sendKeys("correo@example.com");  

Resumen:  
- Localizadores sirven para encontrar y actuar sobre elementos web.  
- Tipos principales: ID, Name, ClassName, TagName, XPath, CSSSelector.  
- Es importante elegir el localizador más efectivo disponible.  



**Prioridad de Selectores en Selenium:**  

1. id  
- Es el más rápido, único y confiable. (Ideal siempre que exista un id).  

2. name  
- También suele ser único, pero puede repetirse más que el id.  

3. className  
- Úsalo solo si es una clase única. Cuidado si hay múltiples clases iguales.  

4. cssSelector  
- Muy flexible. Permite localizar usando combinaciones de atributos. Más rápido que XPath.  

5. xpath  
- Potente, pero más lento y frágil si cambian las estructuras HTML.  

6. tagName  
- No suele ser único. Útil cuando se combina con otros selectores.  

7. linkText o partialLinkText  
- Solo para enlaces (<a>), pero depende mucho del texto visible que puede cambiar.  

*****
Tipo de Localizador	¿Cómo funciona?	Naturaleza
id, name, linkText	Apunta directo a un atributo concreto	1:1 (uno a uno) 

cssSelector, xpath	Construyes una ruta o combinación manualmente	Universal  

Atención: En CSS el nth-child puede contar elementos ocultos, mientras que XPath no, por eso el número a veces cambia.   

 Siempre trata primero de buscar id, name, o atributos únicos.  
 Solo usa [n] cuando no tengas otra opción.  

*****

**Construcción básica de un cssSelector:**

- Si tienes class ➔  By.cssSelector("p.error")  
     O usando solo la clase (si el tagname no es importante): By.cssSelector(".error")    


- Si tienes id ➔  By.cssSelector("input#inputUsername")  
- Si no tienes ni id ni class, puedes construirlo basado en cualquier atributo:  
  By.cssSelector("input[placeholder='Username']")  

- Para asegurarte de que tu CSS Selector o className es único:
  Usa plugins como SelectorHub o ChroPath en Chrome.
- Si solo 1 elemento coincide, tu locator es correcto.
- Si varios elementos coinciden, deberías mejorarlo para ser más específico  

  Tambien se puede hacer usando directamente la Consola del navegador:  
  En la pestaña Console escribe:  

```javascript
$('p.error')
```  
$ en JavaScript permite seleccionar usando CSS Selectors directamente.  
Si encuentras un solo elemento, tu selector es correcto.  
Si devuelve null o 0 elementos, el CSS está mal.  

en ocaciones puede haber mas de un elemento y puede decidir con cual quedarme:  
input[type="text"]:nth-child(2)  


**Construccion básica de un xpath**  

//tagname[@attribute='value']  


Los xpath se pueden comprobar con alguna herramienta como SelectorHub o ChroPath en Chrome.  
Tambien desde la consola:  
$x('//input[@placeholder="Name"]')  

en ocaciones puede haber mas de un elemento y puede decidir con cual quedarme:  
//input[@type="text"][2]

Para acceder a algunos elementos html complicados se puede "navegar" utlizando xpath:

Para moverme entre los selectores:
//parentTagname/chillTagname

driver.findElement(By.xpath("//form/input[3]")).sendKeys("35147542");


*****


Ejemplo practico:  

Html de sitio:  

```html
<form class="form">
    <h1>Sign in</h1>
    <input type="text" placeholder="Username" id="inputUsername" value="" /><input type="password" placeholder="Password" name="inputPassword" value="" />
    <div class="checkbox-container">
        <span><input type="checkbox" id="chkboxOne" name="chkboxOne" value="rmbrUsername" /><label for="chkboxOne"> Remember my username</label></span>
        <span>
            <input type="checkbox" id="chkboxTwo" name="chkboxTwo" value="agreeTerms" /><label for="chkboxTwo"> I agree to the <a href="#"> terms </a> and <a href="#">privacy policy</a>.</label>
        </span>
    </div>
    <div class="forgot-pwd-container"><a href="#">Forgot your password?</a></div>
    <button class="submit signInBtn" type="submit">Sign In</button>
</form>

```

interaccion con Selenium:  

```java
package localizadores;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.chrome.ChromeDriver;


public class localizadores {

	public static void main(String[] args) {
		System.setProperty("webdriver.chrome.driver", "/media/Almacenamiento/eclipse_workspace/chromedriver-linux64/chromedriver");
		WebDriver driver = new ChromeDriver();
		driver.get("https://rahulshettyacademy.com/locatorspractice");
		driver.findElement(By.id("inputUsername")).sendKeys("Jose");
		driver.findElement(By.name("inputPassword")).sendKeys("123456");
		driver.findElement(By.className("signInBtn")).click();
	}

}
```

Si hay espacios en el class, significa varias clases.

Puedes usar cualquiera de ellas individualmente.

No todos los elementos tienen id o name ➔ debes elegir el mejor localizador disponible.

Métodos clave:

findElement(By.id("..."))

findElement(By.name("..."))

findElement(By.className("..."))


AL hacer click en login da error  y muestra este mensaje:

```html
<p class="error">Incorrect username or password</p>
```
p ➔ Tag Name (etiqueta).  

class="error" ➔ Clase (atributo importante para localizar).  

Imprimir el mensaje por consola con selenium  

```java
		System.out.println(driver.findElement(By.className("p.error")).getText());
```

El mensaje de error ("Incorrect username or password") tardaba 2 segundos en aparecer después de hacer clic en "Sign In".  
Selenium es más rápido que la carga de la página, entonces fallaba porque intentaba capturar un elemento que todavía no existía.  


Solución: Sincronización con Implicit Wait  
Implicit Wait le dice a Selenium:  
➔ "Después de hacer una acción, espera un tiempo máximo antes de fallar buscando un elemento".  
Se configura justo después de crear el WebDriver.  

driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));

Selenium intentará buscar el elemento durante 5 segundos antes de fallar.  
Si encuentra el elemento antes, continuará inmediatamente.  




